{% extends "index.html" %}



{% block script  %}
  <link rel="stylesheet" href="../css/datepicker.css">
  <link rel="stylesheet" href="../css/datatables.css">   
  <script src="../js/jquery.min.js"></script>
  <script src="../js/jquery.dataTables.min.js"></script>
  <script src="../js/bootstrap-datepicker.js"></script>
  <script src="../js/bootstrapPagination.js"></script>
  <script>
    $(document).ready(function() {

      // create the goal table
      var goalTable = $('#goalTable').dataTable( {
        "bProcessing": true,
        "bServerSide": true,
        //"bLengthChange": false,
        "sPaginationType": "bootstrap",
        "sAjaxSource": "update_datatable",
        "sDom": "<'row'<'span6'l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
        "aoColumns": [
          { "mData": "activity" },
          { "mData": "operator" },
          { "mData": "quantity" },
          { "mData": "metric" },
          { "mData": "start" },
          { "mData": "end" },
          { "mData": "complete" }
        ]
      } );

      // for submitting the new goal
      $("form").submit(function() {
        $.post("create", $(this).serialize(), function() {
          //athleteTable.fnDraw();
          // TODO
        } );
        return false;
      } );

      // for the start and end date inputs
      $('#dateInput').datepicker();

      // for the recurring checkbox
      $('#switch').toggleButtons({
        width: 220,
        label: {
            enabled: "One-time",
            disabled: "Recurring"
        }
      });

    } );
  </script>


  <script>

  </script>
{% endblock script %}

{% block body %}
  <form class="form-horizontal well" action="createGoal">
    <fieldset>
    <legend>Create Goal</legend>

      <!-- TODO: fill with activity types from db in script-->
      <select id="activity">
        <option value="run">Run</option>
        <option value="bike">Bike</option>
        <option value="swim">Swim</option>
      </select>

      <!-- TODO: fill with operator types from db in script-->
      <select id="operator">
        <option value="total">Total</option>
        <option value="min">Min</option>
        <option value="max">Max</option>
        <option value="average">Average</option>
      </select>

      <input type="text" id="quantity" placeholder="Quantity">
      
      <!-- TODO: fill with metric types from db in script-->
      <select id="metric">
        <option value="km">Km</option>
        <option value="kmph">Kmph</option>
      </select>

      <div class="input-append date" id="dateInput" data-date="26-02-2013" data-date-format="dd-mm-yyyy">
        <!-- TODO: make default current date -->
        <label>Start:&nbsp;
            <input class="span2" name="startDate" size="16" type="text" value="26-02-2013">
            <span class="add-on"><i class="icon-th"></i></span>
        </label>
        <!-- TODO: make default current date +1 day-->
        <label>End:&nbsp;
            <input class="span2" name="endDate" size="16" type="text" value="27-02-2013">
            <span class="add-on"><i class="icon-th"></i></span>
        </label>
        <label>Recurring&nbsp;
          <input type="checkbox">
        </label>
      </div>

      <button type="submit" class="btn btn-primary">Create</button>

    </fieldset>
  </form>

  <!-- CURRENT GOALS TABLE -->
  <form class="form-horizontal well">
    <legend>Current Goals</legend>

    <table class="table table-bordered table-striped table-hover" id="currentGoalsTable">
      <thead>
      <tr>
        <th>Activity</th>
        <th>Operator</th>
        <th>Quantity</th>
        <th>Metric</th>
        <th>Start</th>
        <th>End</th>
        <th>Completed</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
    </table>
  </form>

  <!-- PAST GOALS TABLE -->
  <form class="form-horizontal well">
    <legend>Past Goals</legend>

    <table class="table table-bordered table-striped table-hover" id="pastGoalsTable">
      <thead>
      <tr>
        <th>Activity</th>
        <th>Operator</th>
        <th>Quantity</th>
        <th>Metric</th>
        <th>Start</th>
        <th>End</th>
        <th>Completed</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
    </table>
  </form>

{% endblock body %}
